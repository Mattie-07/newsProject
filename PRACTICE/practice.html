
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <link rel="stylesheet" href="../public/css/css.css">
    <link rel="stylesheet" href="../public/css.css">
</head>
<body>
    <header>

    
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
            <a class="navbar-brand" href="/">Home</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavDropdown">
                <ul class="navbar-nav">

                    <li class="nav-item">
                    <a class="nav-link" href="/registration" style="text-align: center;">Registration</a>
                    </li>
                    <li class="nav-item">
                    <a class="nav-link" href="/login" style="text-align: center;">Login</a>
                    </li>
                    <li class="nav-item">
                    <a class="nav-link" href="/news" style="text-align: center;">News</a>
                    </li>
                </ul>
            </div>
        </nav>
    </header>

    <div class="container pt-5">
        <div class="row">
            <div class="col-sm-8">
                <div class="maincontent">

                    <article class="article">
                        <h1 class="article-title">Search News</h1>
                        <form class="search" action="">
                            <label for="">News</label>
                            <input class="input" type="text" /><br>
                            <input type="submit"/>
                        </form>
                    
                    
                        <div class="container">
                            <ul class="news-return"></ul>
                        </div>
                        <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Explicabo quisquam velit excepturi. Ducimus expedita veniam consequuntur exercitationem amet cumque iusto et dolor sint, tempora distinctio officia, earum aliquam incidunt harum.</p>
                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. A, deleniti dolore. Ratione hic culpa molestiae repellendus itaque ipsa, dolorem cumque est eligendi iusto fuga vel beatae rem aspernatur, mollitia aliquid.</p>
                    </article><!--Slide placeholder-->

                    <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
                        <ol class="carousel-indicators">
                            <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                            <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                            <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
                        </ol>
                        <div class="carousel-inner">
                            <div class="carousel-item active">
                            <img class="d-block w-100" id="img1" alt="First slide">
                            </div>
                            <div class="carousel-item">
                            <img class="d-block w-100" id="img2" alt="Second slide">
                            </div>
                            <div class="carousel-item">
                            <img class="d-block w-100" id="img3" alt="Third slide">
                            </div>
                        </div>
                        <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="sr-only">Previous</span>
                        </a>
                        <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="sr-only">Next</span>
                        </a>
                        </div>

                    <article class="article">
                        <h1 class="article-title">Select Category</h1>
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Vero, voluptas. Ipsum enim, numquam saepe deleniti excepturi corrupti minus pariatur harum, vitae, reiciendis animi repellendus explicabo! Eum enim autem similique facere?</p>
                        
                    </article><!--Slide placeholder-->

                </div>
            </div><!-- sidebar-->
            <aside class="col-sm-4">
                <article class="sidebar">
                    <h1 class="sidebar-title">Add Chat Box</h1>
                    <h5 class="sidebar-body">
                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptates veniam quo voluptatibus autem temporibus, nisi soluta, inventore laboriosam, eligendi rem labore! Expedita aut repudiandae qui asperiores repellat! Ratione, nobis corporis?</p>
                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Ducimus dolor soluta, quisquam veniam excepturi eligendi, perferendis nobis neque temporibus voluptatibus doloremque. Inventore pariatur tempora a iure ea vitae quod explicabo!</p>
                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Cupiditate sequi accusantium vero dolor veritatis eius alias, necessitatibus sint dolore libero similique. Ea sapiente sequi quaerat, recusandae tempora ex facere officia!</p>
                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Alias molestias officiis vitae sed, optio atque expedita voluptas nemo error eum vero. Ex alias vitae fugiat quia asperiores modi reprehenderit dicta!</p>
                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sint reiciendis eum veniam nihil harum, nesciunt ipsa esse excepturi tempora possimus odit necessitatibus iste nisi consectetur explicabo, itaque ipsum inventore sunt?</p>
                        <p></p>
                    </h5>
                </article>  <!--SIDE BAR PLACE HOLDER-->
            </aside><!-- secondary -->

        </div>
    </div><!-- container -->

    <script>
        const searchEngine = document.querySelector('.search');
        const input = document.querySelector('.input');
        const newsReturn = document.querySelector('.news-return');

        searchEngine.addEventListener('submit', retrieve);

        function retrieve(e){

            if(input.value == ''){
                alert('Input field is empty!')
                return
            }

            newsReturn.innerHTML = '';

            e.preventDefault()

            const apiKey = `7235e9c528744dd09cfafa0d2cc35723`
            let topic = input.value;

            let urlToImage = `http://newsapi.org/v2/everything?q=${topic}&apiKey=${apiKey}`

            fetch(urlToImage).then((res)=>{
                return res.json()
                       //return response in JSON format
            })
            .then((data)=>{
                console.log(data)
                data.articles.forEach(article =>{
                    let li = document.createElement('li');
                    let a = document.createElement('a');
                    a.setAttribute('href', data)
                    a.setAttribute('target', '_blank');
                    a.textContent = article.urlToImage;  //what would i do instead of textContent??
                    li.appendChild(a);
                    newsReturn.appendChild(li);
                })
            }).catch((error)=>{
                console.log(error)
            });
        }

        console.log(topic);

    </script>
        <script>

            let date = new Date();
            let api = '1a0dab219e094582b53772f241682362'
            // fetch(`http://newsapi.org/v2/everything?q=bitcoin&from=${date}&sortBy=publishedAt&apiKey=${api}`)
                // .then(response => response.json())
                // .then(data => {
                //     console.log(data);
                //     let htmlArr = data.articles.map(obj =>{
                //         return `<li> ${obj.author} , ${obj.title}  </li>`
                //     })
                
                //     let ul = document.querySelector('ul');
                //     ul.innerHTML = htmlArr.join('');
                // })
    
                
                //fetching the imges
                fetch(`http://newsapi.org/v2/everything?q=bitcoin&from=${date}&sortBy=publishedAt&apiKey=${api}`)
                .then(response => response.json())
                .then(data => {
                    console.log(data);
                    // let htmlArr1 = data.articles.map(obj =>{
                    //     return `li ${obj.author}, ${obj.title} </li>`
                    // })
                    // let ul = document.querySelector('ul');
                    // ul.innerHTML = htmlArr1.join('');
    
    
                    let htmlArr = data.articles.map(obj =>{
                        return `${obj.urlToImage}`
                    })
                    console.log(htmlArr);
                        let img1 = document.querySelector('#img1');
                        let img2 = document.querySelector('#img2');
                        let img3 = document.querySelector('#img3');
                        let img4 = document.querySelector('#img4');
                        let img5 = document.querySelector('#img5');
                        let img6 = document.querySelector('#img6');
                        
                        let img11 = document.createElement('img');
                        let img22 = document.createElement('img');
                        let img33 = document.createElement('img');
                        let img44 = document.createElement('img');
                        let img55 = document.createElement('img');
                        let img66 = document.createElement('img');
    
                        img11.src = htmlArr[0];
                        img22.src = htmlArr[1];
                        img33.src = htmlArr[2];
                        img44.src = htmlArr[3];
                        img55.src = htmlArr[4];
                        img66.src = htmlArr[5];
    
                        img1.appendChild(img11);
                        img2.appendChild(img22);
                        img3.appendChild(img33);
                        img4.appendChild(img44);
                        img5.appendChild(img55);
                        img6.appendChild(img66);
    
                })
        </script> 


</body>
</html>







    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js" integrity="sha384-q2kxQ16AaE6UbzuKqyBE9/u/KzioAlnx2maXQHiDX9d4/zp8Ok3f+M7DPm+Ib6IU" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.min.js" integrity="sha384-pQQkAEnwaBkjpqZ8RU1fF1AKtTcHJwFl3pblpTlHXybJjHpMYo79HY3hIi4NKxyj" crossorigin="anonymous"></script>
</body>
</html>